"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isImmutableDeep = isImmutableDeep;

var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));

var _immutable = require("immutable");

function isImmutableDeep(maybeImmutable) {
  var curr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

  if ((0, _typeof2["default"])(maybeImmutable) !== 'object' || maybeImmutable === null) {
    if (typeof maybeImmutable !== 'string' && typeof maybeImmutable !== 'boolean' && typeof maybeImmutable !== 'number') {
      if (process.env.NODE_ENV === 'development') {
        console.warn('is immutable, non convertible found', maybeImmutable);
      }

      curr = false;
    }
  } else {
    if (_immutable.List.isList(maybeImmutable)) {
      (0, _immutable.Seq)(maybeImmutable).forEach(function (e) {
        return curr = isImmutableDeep(e, curr);
      });
    } else if (_immutable.Map.isMap(maybeImmutable)) {
      (0, _immutable.Seq)(maybeImmutable).forEach(function (e) {
        return curr = isImmutableDeep(e, curr);
      });
    } else if (_immutable.Record.isRecord(maybeImmutable)) {
      (0, _immutable.Seq)(maybeImmutable).forEach(function (e) {
        return curr = isImmutableDeep(e, curr);
      });
    } else {
      if (process.env.NODE_ENV === 'development') {
        console.warn('is immutable, not converted found', maybeImmutable);
      }

      curr = false;
    }
  }

  return curr;
}