"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.extractValidity = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _UIStoreActions = require("@ui-schema/ui-schema/UIStoreActions");

var _memo = require("@ui-schema/ui-schema/Utils/memo");

var _UIStore = require("@ui-schema/ui-schema/UIStore");

var extractValidity = function extractValidity(Component) {
  var ExtractValidity = function ExtractValidity(p) {
    var _useUIStore = (0, _UIStore.useUIStore)(),
        store = _useUIStore.store,
        showValidity = _useUIStore.showValidity;

    var _useUIStoreActions = (0, _UIStoreActions.useUIStoreActions)(),
        onChange = _useUIStoreActions.onChange; // @ts-ignore


    return /*#__PURE__*/_react["default"].createElement(Component, (0, _extends2["default"])({}, p, {
      validity: p.storeKeys.size ? store === null || store === void 0 ? void 0 : store.getValidity().getIn(p.storeKeys) : store === null || store === void 0 ? void 0 : store.getValidity(),
      onChange: onChange,
      showValidity: p.showValidity || showValidity
    }));
  };

  ExtractValidity.displayName = "ExtractValidity(".concat((0, _memo.getDisplayName)(Component), ")");
  return ExtractValidity;
};

exports.extractValidity = extractValidity;